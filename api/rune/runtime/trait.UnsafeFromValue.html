<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A potentially unsafe conversion for value conversion."><title>UnsafeFromValue in rune::runtime - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-4ee5002b.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rune" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.0-nightly (c1db4dc24 2024-10-25)" data-channel="nightly" data-search-js="search-c5a66128.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../rune/index.html">rune</a><span class="version">0.14.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Unsafe<wbr>From<wbr>Value</a></h2><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Guard" title="Guard">Guard</a></li><li><a href="#associatedtype.Output" title="Output">Output</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.unsafe_coerce" title="unsafe_coerce">unsafe_coerce</a></li><li><a href="#tymethod.unsafe_from_value" title="unsafe_from_value">unsafe_from_value</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In rune::<wbr>runtime</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">rune</a>::<wbr><a href="index.html">runtime</a></span><h1>Trait <span class="trait">UnsafeFromValue</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/rune/runtime/from_value.rs.html#168-199">Source</a> </span></div><pre class="rust item-decl"><code>pub trait UnsafeFromValue: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> {
    type <a href="#associatedtype.Output" class="associatedtype">Output</a>: 'static;
    type <a href="#associatedtype.Guard" class="associatedtype">Guard</a>: 'static;

    // Required methods
    fn <a href="#tymethod.unsafe_from_value" class="fn">unsafe_from_value</a>(value: <a class="struct" href="struct.Value.html" title="struct rune::runtime::Value">Value</a>) -&gt; <a class="enum" href="enum.VmResult.html" title="enum rune::runtime::VmResult">VmResult</a>&lt;(Self::<a class="associatedtype" href="trait.UnsafeFromValue.html#associatedtype.Output" title="type rune::runtime::UnsafeFromValue::Output">Output</a>, Self::<a class="associatedtype" href="trait.UnsafeFromValue.html#associatedtype.Guard" title="type rune::runtime::UnsafeFromValue::Guard">Guard</a>)&gt;;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.unsafe_coerce" class="fn">unsafe_coerce</a>(output: Self::<a class="associatedtype" href="trait.UnsafeFromValue.html#associatedtype.Output" title="type rune::runtime::UnsafeFromValue::Output">Output</a>) -&gt; Self;
}</code></pre><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: Rune: Implementing this trait will no longer work. Use UnsafeToRef and UnsafeToMut instead.</span></div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A potentially unsafe conversion for value conversion.</p>
<p>This trait is used to convert values to references, which can be safely used
while an external function call is used. That sort of use is safe because we
hold onto the guard returned by the conversion during external function
calls.</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">Â§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Output" class="method"><a class="src rightside" href="../../src/rune/runtime/from_value.rs.html#170">Source</a><h4 class="code-header">type <a href="#associatedtype.Output" class="associatedtype">Output</a>: 'static</h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: Rune: Implementing this trait will no longer work. Use UnsafeToRef and UnsafeToMut instead.</span></div></span></summary><div class="docblock"><p>The output type from the unsafe coercion.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Guard" class="method"><a class="src rightside" href="../../src/rune/runtime/from_value.rs.html#176">Source</a><h4 class="code-header">type <a href="#associatedtype.Guard" class="associatedtype">Guard</a>: 'static</h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: Rune: Implementing this trait will no longer work. Use UnsafeToRef and UnsafeToMut instead.</span></div></span></summary><div class="docblock"><p>The raw guard returned.</p>
<p>Must only be dropped <em>after</em> the value returned from this function is
no longer live.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.unsafe_from_value" class="method"><a class="src rightside" href="../../src/rune/runtime/from_value.rs.html#187">Source</a><h4 class="code-header">fn <a href="#tymethod.unsafe_from_value" class="fn">unsafe_from_value</a>(value: <a class="struct" href="struct.Value.html" title="struct rune::runtime::Value">Value</a>) -&gt; <a class="enum" href="enum.VmResult.html" title="enum rune::runtime::VmResult">VmResult</a>&lt;(Self::<a class="associatedtype" href="trait.UnsafeFromValue.html#associatedtype.Output" title="type rune::runtime::UnsafeFromValue::Output">Output</a>, Self::<a class="associatedtype" href="trait.UnsafeFromValue.html#associatedtype.Guard" title="type rune::runtime::UnsafeFromValue::Guard">Guard</a>)&gt;</h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: Rune: Implementing this trait will no longer work. Use UnsafeToRef and UnsafeToMut instead.</span></div></span></summary><div class="docblock"><p>Convert the given reference using unsafe assumptions to a value.</p>
<h5 id="safety"><a class="doc-anchor" href="#safety">Â§</a>Safety</h5>
<p>The return value of this function may only be used while a virtual
machine is not being modified.</p>
<p>You must also make sure that the returned value does not outlive the
guard.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.unsafe_coerce" class="method"><a class="src rightside" href="../../src/rune/runtime/from_value.rs.html#198">Source</a><h4 class="code-header">unsafe fn <a href="#tymethod.unsafe_coerce" class="fn">unsafe_coerce</a>(output: Self::<a class="associatedtype" href="trait.UnsafeFromValue.html#associatedtype.Output" title="type rune::runtime::UnsafeFromValue::Output">Output</a>) -&gt; Self</h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: Rune: Implementing this trait will no longer work. Use UnsafeToRef and UnsafeToMut instead.</span></div></span></summary><div class="docblock"><p>Coerce the output of an unsafe from value into the final output type.</p>
<h5 id="safety-1"><a class="doc-anchor" href="#safety-1">Â§</a>Safety</h5>
<p>The return value of this function may only be used while a virtual
machine is not being modified.</p>
<p>You must also make sure that the returned value does not outlive the
guard.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">Â§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#object-safety">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">Â§</a></h2><div id="implementors-list"></div><script src="../../trait.impl/rune/runtime/from_value/trait.UnsafeFromValue.js" async></script></section></div></main></body></html>