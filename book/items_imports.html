<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Items and imports - The Rune Programming Language</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rune Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="items-and-imports"><a class="header" href="#items-and-imports">Items and imports</a></h1>
<p>Everything in Rune has a unique name. Every function, type, and import. This
name is what identifies that thing, and is called its <em>item</em>. Rune performs
compile time checks to make sure that every item we try to use actually exists.</p>
<p>The following are examples of items in Rune:</p>
<ul>
<li><code>std::result::Result</code> (a type)</li>
<li><code>std::iter::range</code> (a function)</li>
</ul>
<p>The first refers to the <code>Result</code> enum, and the second is the <code>range</code> function.
They both live within their corresponding <code>std</code> module. <code>Result</code> is a bit
special even, since it's part of the <em>prelude</em>, allowing us to use it without
importing it. But what about <code>range</code>?</p>
<p>If we wanted to use <code>range</code> we would have to import it first with a <code>use</code>
statement:</p>
<pre><code class="language-rune">use std::iter::once;

let it = once(0);

dbg!(it.next());
dbg!(it.next());
</code></pre>
<pre><code class="language-text">$&gt; cargo run -- run scripts/book/items_imports/example_import.rn
std::iter::Range
</code></pre>
<p>Trying to use an item which doesn't exist results in a compile error:</p>
<pre><code class="language-rune">pub fn main() {
    let foo = Foo::new();
}
</code></pre>
<pre><code class="language-text">$&gt; cargo run -- run scripts/book/items_imports/missing_item.rn.fail
error: compile error
  ┌─ scripts/book/items_imports/missing_item.rn.fail:2:15
  │
2 │     let foo = Foo::new();
  │               ^^^^^^^^ missing item `Foo::new`
</code></pre>
<p>Every item used in a Rune program must be known at compile time. This is one of
the static guarantees every Rune script are has to fulfill. And is one important
point where it differs from Lua or Python.</p>
<h1 id="modules"><a class="header" href="#modules">Modules</a></h1>
<p>Rune has support for modules purely defined in Rune itself. This is done using
the <code>mod</code> keyword. And the module can either be loaded from a different file
matching the name of the module or defined directly inside of the source file.</p>
<p>The following is an example of an <em>inline</em> module:</p>
<pre><code class="language-rune">mod foo {
    pub fn number() {
        1
    }
}

mod bar {
    pub fn number() {
        2
    }
}

pub fn main() {
    dbg!(foo::number() + bar::number());
}
</code></pre>
<pre><code class="language-text">$&gt; cargo run -- run scripts/book/items_imports/inline_modules.rn
3
</code></pre>
<p>And this is the equivalent modules loaded from the filesystem. These are three
separate files:</p>
<pre><code class="language-rune">mod foo;
mod bar;

dbg!(foo::number() + bar::number());
</code></pre>
<pre><code class="language-rune">// file: ./foo/mod.rn
pub fn number() {
    2
}
</code></pre>
<pre><code class="language-rune">// file: ./bar.rn
pub fn number() {
    1
}
</code></pre>
<pre><code class="language-text">$&gt; cargo run -- run scripts/book/items_imports/modules.rn
3
</code></pre>
<h1 id="disambiguating-imports"><a class="header" href="#disambiguating-imports">Disambiguating imports</a></h1>
<p>Normally an item would simply be used through its local name, such as
<code>foo::number</code> above. But what happens if we need to reference a module which is
not a direct descendent of the current one or there is some ambiguation?</p>
<p>To this end Rune supports the following Rust keywords:</p>
<ul>
<li><code>self</code> - which will resolve items from the root of the <em>current</em> module.</li>
<li><code>crate</code> - which will look up items from the entrypoint of the current project.</li>
<li><code>super</code> - which will look up items from the <em>parent</em> of the current module.</li>
</ul>
<pre><code class="language-rune">mod first {
    pub fn number() {
        crate::number() + 2
    }
}

mod second {
    pub fn number() {
        super::first::number() + 4
    }
}

pub fn number() {
    1
}

dbg!(self::second::number());
</code></pre>
<pre><code class="language-text">$&gt; cargo run -- run scripts/book/items_imports/item_keywords.rn
7
</code></pre>
<h1 id="visibility"><a class="header" href="#visibility">Visibility</a></h1>
<p>Every item used has to be <em>visible</em> to that item. This is governed by Runes
visibility rules, which are the following:</p>
<ul>
<li>An item can have inherited (empty) or a specified visibility like <code>pub</code> or
<code>pub(crate)</code>.</li>
<li>For an item to be visible, all of its parent items have to be visible.</li>
<li>Items with inherited visibility are equivalent to <code>pub(self)</code>, making the item
only visible in the module in which they are defined.</li>
</ul>
<p>The available visibility modifiers are:</p>
<ul>
<li><code>pub</code> - the item is visible from anywhere.</li>
<li><code>pub(crate)</code> - the item is visible in the same crate.</li>
<li><code>pub(super)</code> - the item is visible in the parent item only.</li>
<li><code>pub(self)</code> - the item is only visible to other items in the same module.</li>
<li><code>pub(in path)</code> - the item is only visible in the specified path. This is <em>not
supported yet</em>.</li>
</ul>
<blockquote>
<p>Note that Rune doesn't have support for crates yet, meaning <code>pub(crate)</code> and
<code>pub</code> are currently effectively equivalent.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="concepts.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="functions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="concepts.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="functions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
