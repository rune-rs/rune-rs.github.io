<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Items and imports - The Rune Programming Language</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="foreword.html"><strong aria-hidden="true">1.</strong> Foreword</a></li><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">2.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="getting_started.html"><strong aria-hidden="true">3.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="concepts.html"><strong aria-hidden="true">4.</strong> Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="items_imports.html" class="active"><strong aria-hidden="true">4.1.</strong> Items and imports</a></li><li class="chapter-item expanded "><a href="functions.html"><strong aria-hidden="true">4.2.</strong> Functions</a></li><li class="chapter-item expanded "><a href="control_flow.html"><strong aria-hidden="true">4.3.</strong> Control flow</a></li><li class="chapter-item expanded "><a href="variables.html"><strong aria-hidden="true">4.4.</strong> Variables and memory</a></li><li class="chapter-item expanded "><a href="loops.html"><strong aria-hidden="true">4.5.</strong> Loops</a></li><li class="chapter-item expanded "><a href="pattern_matching.html"><strong aria-hidden="true">4.6.</strong> Pattern matching</a></li><li class="chapter-item expanded "><a href="template_literals.html"><strong aria-hidden="true">4.7.</strong> Template literals</a></li><li class="chapter-item expanded "><a href="instance_functions.html"><strong aria-hidden="true">4.8.</strong> Instance functions</a></li><li class="chapter-item expanded "><a href="field_functions.html"><strong aria-hidden="true">4.9.</strong> Field functions</a></li></ol></li><li class="chapter-item expanded "><a href="types.html"><strong aria-hidden="true">5.</strong> Built-in types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="primitives.html"><strong aria-hidden="true">5.1.</strong> Primitives and references</a></li><li class="chapter-item expanded "><a href="vectors.html"><strong aria-hidden="true">5.2.</strong> Vectors</a></li><li class="chapter-item expanded "><a href="objects.html"><strong aria-hidden="true">5.3.</strong> Objects</a></li><li class="chapter-item expanded "><a href="tuples.html"><strong aria-hidden="true">5.4.</strong> Tuples</a></li></ol></li><li class="chapter-item expanded "><a href="dynamic_types.html"><strong aria-hidden="true">6.</strong> Dynamic types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="structs.html"><strong aria-hidden="true">6.1.</strong> Structs</a></li><li class="chapter-item expanded "><a href="enums.html"><strong aria-hidden="true">6.2.</strong> Enums</a></li></ol></li><li class="chapter-item expanded "><a href="external_types.html"><strong aria-hidden="true">7.</strong> External types</a></li><li class="chapter-item expanded "><a href="try_operator.html"><strong aria-hidden="true">8.</strong> Try operator</a></li><li class="chapter-item expanded "><a href="generators.html"><strong aria-hidden="true">9.</strong> Generators</a></li><li class="chapter-item expanded "><a href="closures.html"><strong aria-hidden="true">10.</strong> Closures</a></li><li class="chapter-item expanded "><a href="async.html"><strong aria-hidden="true">11.</strong> Asynchronous programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="streams.html"><strong aria-hidden="true">11.1.</strong> Streams</a></li></ol></li><li class="chapter-item expanded "><a href="macros.html"><strong aria-hidden="true">12.</strong> Macros</a></li><li class="chapter-item expanded "><a href="advanced.html"><strong aria-hidden="true">13.</strong> Advanced</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="safety.html"><strong aria-hidden="true">13.1.</strong> Safety</a></li><li class="chapter-item expanded "><a href="the_stack.html"><strong aria-hidden="true">13.2.</strong> The stack</a></li><li class="chapter-item expanded "><a href="call_frames.html"><strong aria-hidden="true">13.3.</strong> Call frames</a></li><li class="chapter-item expanded "><a href="compiler_guide.html"><strong aria-hidden="true">13.4.</strong> Compiler guide</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="deprecated.html"><strong aria-hidden="true">14.</strong> Deprecated</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="string_literals.html"><strong aria-hidden="true">14.1.</strong> String literals</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rune Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="items-and-imports"><a class="header" href="#items-and-imports">Items and imports</a></h1>
<p>Everything in Rune has a unique name. Every function, type, and import. This
name is what identifies that thing, and is called its <em>item</em>. Rune performs
compile time checks to make sure that every item we try to use actually exists.</p>
<p>The following are examples of items in Rune:</p>
<ul>
<li><code>std::result::Result</code> (a type)</li>
<li><code>std::iter::range</code> (a function)</li>
</ul>
<p>The first refers to the <code>Result</code> enum, and the second is the <code>range</code> function.
They both live within their corresponding <code>std</code> module. <code>Result</code> is a bit
special even, since it's part of the <em>prelude</em>, allowing us to use it without
importing it. But what about <code>range</code>?</p>
<p>If we wanted to use <code>range</code> we would have to import it first with a <code>use</code>
statement:</p>
<pre><code class="language-rune">use std::iter::range;

pub fn main() {
    dbg!(range(0, 10));
}
</code></pre>
<pre><code class="language-text">$&gt; cargo run --bin rune -- run scripts/book/items_imports/example_import.rn
std::iter::Range
</code></pre>
<p>Trying to use an item which doesn't exist results in a compile error:</p>
<pre><code class="language-rune">pub fn main() {
    let foo = Foo::new();
}
</code></pre>
<pre><code class="language-text">$&gt; cargo run --bin rune -- run scripts/book/items_imports/missing_item.rn.fail
error: compile error
  ┌─ scripts/book/items_imports/missing_item.rn.fail:2:15
  │
2 │     let foo = Foo::new();
  │               ^^^^^^^^ missing item `Foo::new`
</code></pre>
<p>Every item used in a Rune program must be known at compile time. This is one of
the static guarantees every Rune script are has to fulfill. And is one important
point where it differs from Lua or Python.</p>
<h1 id="modules"><a class="header" href="#modules">Modules</a></h1>
<p>Rune has support for modules purely defined in Rune itself. This is done using
the <code>mod</code> keyword. And the module can either be loaded from a different file
matching the name of the module or defined directly inside of the source file.</p>
<p>The following is an example of an <em>inline</em> module:</p>
<pre><code class="language-rune">mod foo {
    pub fn number() {
        1
    }
}

mod bar {
    pub fn number() {
        2
    }
}

#[test]
fn inline_modules() {
    assert_eq!(foo::number() + bar::number(), 3);
}

pub fn main() {
    dbg(foo::number() + bar::number());
}
</code></pre>
<pre><code class="language-text">$&gt; cargo run --bin rune -- run scripts/book/items_imports/inline_modules.rn
3
</code></pre>
<p>And this is the equivalent modules loaded from the filesystem. These are three
separate files:</p>
<pre><code class="language-rune">mod foo;
mod bar;

#[test]
fn test_modules() {
    assert_eq!(foo::number() + bar::number(), 3);
}

pub fn main() {
    dbg(foo::number() + bar::number());
}
</code></pre>
<pre><code class="language-rune">// file: ./foo/mod.rn
pub fn number() {
    2
}
</code></pre>
<pre><code class="language-rune">// file: ./bar.rn
pub fn number() {
    1
}
</code></pre>
<pre><code class="language-text">$&gt; cargo run --bin rune -- run scripts/book/items_imports/modules.rn
3
</code></pre>
<h1 id="disambiguating-imports"><a class="header" href="#disambiguating-imports">Disambiguating imports</a></h1>
<p>Normally an item would simply be used through its local name, such as
<code>foo::number</code> above. But what happens if we need to reference a module which is
not a direct descendent of the current one or there is some ambiguation?</p>
<p>To this end Rune supports the following Rust keywords:</p>
<ul>
<li><code>self</code> - which will resolve items from the root of the <em>current</em> module.</li>
<li><code>crate</code> - which will look up items from the entrypoint of the current project.</li>
<li><code>super</code> - which will look up items from the <em>parent</em> of the current module.</li>
</ul>
<pre><code class="language-rune">mod first {
    pub fn number() {
        crate::number() + 2
    }
}

mod second {
    pub fn number() {
        super::first::number() + 4
    }
}

pub fn number() {
    1
}

#[test]
fn item_keywords() {
    assert_eq!(self::second::number(), 7);
}

pub fn main() {
    dbg(self::second::number());
}
</code></pre>
<pre><code class="language-text">$&gt; cargo run --bin rune -- run scripts/book/items_imports/item_keywords.rn
7
</code></pre>
<h1 id="visibility"><a class="header" href="#visibility">Visibility</a></h1>
<p>Every item used has to be <em>visible</em> to that item. This is governed by Runes
visibility rules, which are the following:</p>
<ul>
<li>An item can have inherited (empty) or a specified visibility like <code>pub</code> or
<code>pub(crate)</code>.</li>
<li>For an item to be visible, all of its parent items have to be visible.</li>
<li>Items with inherited visibility are equivalent to <code>pub(self)</code>, making the item
only visible in the module in which they are defined.</li>
</ul>
<p>The available visibility modifiers are:</p>
<ul>
<li><code>pub</code> - the item is visible from anywhere.</li>
<li><code>pub(crate)</code> - the item is visible in the same crate.</li>
<li><code>pub(super)</code> - the item is visible in the parent item only.</li>
<li><code>pub(self)</code> - the item is only visible to other items in the same module.</li>
<li><code>pub(in path)</code> - the item is only visible in the specified path. This is <em>not
supported yet</em>.</li>
</ul>
<blockquote>
<p>Note that Rune doesn't have support for crates yet, meaning <code>pub(crate)</code> and
<code>pub</code> are currently effectively equivalent.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="concepts.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="functions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="concepts.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="functions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
